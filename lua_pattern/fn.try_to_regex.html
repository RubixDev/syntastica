<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Try to convert a parsed Lua pattern into a regular expression string."><title>try_to_regex in lua_pattern - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-916cea96.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="lua_pattern" data-themes="" data-resource-suffix="" data-rustdoc-version="1.87.0-nightly (96cfc7558 2025-02-27)" data-channel="nightly" data-search-js="search-f7327375.js" data-settings-js="settings-d72f25bb.js" ><script src="../static.files/storage-d8ac8691.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-a7bf3405.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../lua_pattern/index.html">lua_<wbr>pattern</a><span class="version">0.1.2</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">try_<wbr>to_<wbr>regex</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#returns" title="Returns">Returns</a></li><li><a href="#errors" title="Errors">Errors</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate lua_<wbr>pattern</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">lua_pattern</a></div><h1>Function <span class="fn">try_to_regex</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/lua_pattern/to_regex.rs.html#51-57">Source</a> </span></div><pre class="rust item-decl"><code>pub fn try_to_regex(
    pattern: &amp;[<a class="enum" href="enum.PatternObject.html" title="enum lua_pattern::PatternObject">PatternObject</a>],
    allow_capture_refs: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    allow_lookaround: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="enum" href="enum.ToRegexError.html" title="enum lua_pattern::ToRegexError">ToRegexError</a>&gt;</code></pre><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>to-regex</code></strong> only.</div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Try to convert a parsed Lua pattern into a regular expression string.</p>
<p>The <code>allow_capture_refs</code> parameter specifies whether to allow backreferences to capture groups.
Set this to <code>false</code> when using the output with the
<a href="https://crates.io/crates/regex"><code>regex</code> crate</a>, or to <code>true</code> when using the
<a href="https://crates.io/crates/fancy-regex"><code>fancy-regex</code> crate</a>.</p>
<h2 id="returns"><a class="doc-anchor" href="#returns">ยง</a>Returns</h2>
<p>The function returns a <a href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String"><code>String</code></a> if the conversion was successful, and a <a href="enum.ToRegexError.html" title="enum lua_pattern::ToRegexError"><code>ToRegexError</code></a>
otherwise.</p>
<h2 id="errors"><a class="doc-anchor" href="#errors">ยง</a>Errors</h2>
<p>Converting a Lua pattern to a RegEx can fail in up to three ways.</p>
<ol>
<li>Lua patterns support balanced bracket matching using the <code>%b</code> operator. This is not
supported by RegEx. Thus, an error will be returned if the input pattern makes use of this
feature.</li>
<li>Lua patterns support references to previous capture groups. Some RegEx engines also support
this feature, but not all. For this reason, uses of such backreferences will result in an
error, if <code>allow_capture_refs</code> is set to <code>false</code>.</li>
<li>Lua patterns support so-called frontier patterns. Their behaviour can be emulated using
lookaround, but only some RegEx engines support that. Therefore, if the input includes a
frontier pattern and <code>allow_lookaround</code> is set to <code>false</code>, an error will be returned.</li>
</ol>
<p>Also see <a href="enum.ToRegexError.html" title="enum lua_pattern::ToRegexError"><code>ToRegexError</code></a> for further information.</p>
</div></details></section></div></main></body></html>