<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Create a new cursor for executing a given query."><title>ts_query_cursor_new in syntastica::ts_runtime::ffi - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-916cea96.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="syntastica" data-themes="" data-resource-suffix="" data-rustdoc-version="1.87.0-nightly (cbfdf0b01 2025-03-13)" data-channel="nightly" data-search-js="search-e7298875.js" data-settings-js="settings-d72f25bb.js" ><script src="../../../static.files/storage-d8ac8691.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-fb8c74a8.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../syntastica/index.html">syntastica</a><span class="version">0.5.0</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In syntastica::<wbr>ts_<wbr>runtime::<wbr>ffi</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">syntastica</a>::<wbr><a href="../index.html">ts_runtime</a>::<wbr><a href="index.html">ffi</a></div><h1>Function <span class="fn">ts_query_cursor_new</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"></span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn ts_query_cursor_new() -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut </a><a class="struct" href="struct.TSQueryCursor.html" title="struct syntastica::ts_runtime::ffi::TSQueryCursor">TSQueryCursor</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Create a new cursor for executing a given query.</p>
<p>The cursor stores the state that is needed to iteratively search
for matches. To use the query cursor, first call <a href="fn.ts_query_cursor_exec.html" title="fn syntastica::ts_runtime::ffi::ts_query_cursor_exec"><code>ts_query_cursor_exec</code></a>
to start running a given query on a given syntax node. Then, there are
two options for consuming the results of the query:</p>
<ol>
<li>Repeatedly call <a href="fn.ts_query_cursor_next_match.html" title="fn syntastica::ts_runtime::ffi::ts_query_cursor_next_match"><code>ts_query_cursor_next_match</code></a> to iterate over all of the
<em>matches</em> in the order that they were found. Each match contains the
index of the pattern that matched, and an array of captures. Because
multiple patterns can match the same set of nodes, one match may contain
captures that appear <em>before</em> some of the captures from a previous match.</li>
<li>Repeatedly call <a href="fn.ts_query_cursor_next_capture.html" title="fn syntastica::ts_runtime::ffi::ts_query_cursor_next_capture"><code>ts_query_cursor_next_capture</code></a> to iterate over all of the
individual <em>captures</em> in the order that they appear. This is useful if
don’t care about which pattern matched, and just want a single ordered
sequence of captures.</li>
</ol>
<p>If you don’t care about consuming all of the results, you can stop calling
<a href="fn.ts_query_cursor_next_match.html" title="fn syntastica::ts_runtime::ffi::ts_query_cursor_next_match"><code>ts_query_cursor_next_match</code></a> or <a href="fn.ts_query_cursor_next_capture.html" title="fn syntastica::ts_runtime::ffi::ts_query_cursor_next_capture"><code>ts_query_cursor_next_capture</code></a> at any point.
You can then start executing another query on another node by calling
<a href="fn.ts_query_cursor_exec.html" title="fn syntastica::ts_runtime::ffi::ts_query_cursor_exec"><code>ts_query_cursor_exec</code></a> again.</p>
</div></details></section></div></main></body></html>